<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Cours M2 Biostatistiques</title>
  <style>
    body { font-family: sans-serif; margin: 40px; }
    h1 { margin-bottom: 20px; }
    ul { line-height: 1.8; }
  </style>
</head>
<body>

<h1>Cours M2 Biostatistiques</h1>
<p>Liste automatique des cours disponibles :</p>

<ul id="file-list"></ul>

<script>
// Fonction pour lister automatiquement les fichiers HTML du répertoire courant
async function listHTMLFiles() {
  try {
    const response = await fetch(window.location.href);
    const text = await response.text();

    // Parse le HTML de la page renvoyée par GitHub Pages
    const parser = new DOMParser();
    const htmlDoc = parser.parseFromString(text, "text/html");

    // Récupère tous les liens
    const links = Array.from(htmlDoc.querySelectorAll("a"));

    // Filtre les .html sauf index.html
    const htmlFiles = links
      .map(a => a.getAttribute("href"))
      .filter(href => href && href.endsWith(".html") && href !== "index.html");

    // Injecte dans la page
    const list = document.getElementById("file-list");

    htmlFiles.forEach(file => {
      const li = document.createElement("li");
      li.innerHTML = `<a href="${file}">${file.replace(".html", "")}</a>`;
      list.appendChild(li);
    });

  } catch (error) {
    console.error("Erreur lors de la génération :", error);
  }
}

// Exécute au chargement
listHTMLFiles();
</script>

</body>
</html>